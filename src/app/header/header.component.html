<div class="navbar bg-base-300">
  <div class="flex-1">
    <a class="btn btn-ghost !text-xl" routerLink="/todos">TodoPal</a>
  </div>
  <div class="flex-none">

    <div class="dropdown dropdown-bottom dropdown-end">
      <button class="btn btn-circle btn-ghost w-8 h-8 min-h-8">
        <ng-icon [name]="isNewNotification ? 'heroBellAlertSolid' : 'heroBellSolid'"></ng-icon>
      </button>
  
      <ul class="dropdown-content z-[1] bg-base-200 w-44 p-2 rounded-box">
        @for (notification of notifications$ | async; track notification.id) {
          <button class="btn btn-ghost" (click)="navigateToTodoPage(notification.todoId)">{{ notification.text }}</button>
        } @empty {
          <span class="block w-max">No notifications here.</span>}
      </ul>
    </div>
    <ul class="menu menu-horizontal px-1">
      <li>
        <details>
          <summary>
            Profile 
          </summary>
          <ul class="p-2 bg-base-200 w-28 rounded-t-none">
            <li><button (click)="navigateToProfile()">Profile</button></li>
            <li><button (click)="logout()">Log out</button></li>
          </ul>
        </details>
      </li>
    </ul>
    <img src="https://api.dicebear.com/6.x/thumbs/svg?seed={{(currentUser$ | async)}}&size=20"
       alt="user avatar"
       class="cursor-pointer" 
       (click)="navigateToProfile()">
  </div>
</div>